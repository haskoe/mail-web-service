const mailer = require('./mailer')

console.log(mailer.validateMailOptions(null))
console.log(mailer.validateMailOptions(''))
console.log(mailer.validateMailOptions(1))
console.log(mailer.validateMailOptions({}))
console.log(mailer.validateMailOptions({ from: 'a', to: 'a@b.cd' }))
console.log(mailer.validateMailOptions({ from: 'a@b', to: 'a@b.cd' }))
console.log(mailer.validateMailOptions({ from: 'a@b.cd', to1: 'a@b.cd' }))
console.log(mailer.validateMailOptions({ from: 'a@b.cd', to: 'a@b.' }))
console.log(mailer.validateMailOptions({ from: 'a@b.cd', to: 'a@b.cd' }))
console.log(mailer.validateMailOptions({ from: 'a@b.cd', to: 'a@b.cd', subject: ''}))
console.log(mailer.validateMailOptions({ from: 'a@b.cd', to: 'a@b.cd', subject: 'a', text: '' }))
console.log(mailer.validateMailOptions({ from: 'a@b.cd', to: 'a@b.cd', subject: 'a', text: '', html: '' }))
console.log(mailer.validateMailOptions({ from: 'a@b.cd', to: 'a@b.cd', subject: 'a', html: '' }))
console.log(mailer.validateMailOptions({ from: 'a@b.cd', to: 'a@b.cd', subject: 'a', text: 'a'.repeat(1000), html: '' }))

mailer.verifyConnection(mailer.createSmtpTransportFromEnv(), (error) => console.log(error || 'success'))